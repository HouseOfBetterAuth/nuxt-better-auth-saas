{
  "timestamp": "2025-12-13T01:44:57.835Z",
  "baseUrl": "http://localhost:3000",
  "endpoints": [
    {
      "endpoint": "/api/content",
      "method": "GET",
      "anonymousResult": {
        "endpoint": "/api/content",
        "method": "GET",
        "userType": "anonymous",
        "status": 401,
        "duration": 75,
        "headers": {
          "cache-control": "no-cache",
          "connection": "close",
          "content-length": "1123",
          "content-security-policy": "script-src 'self' 'unsafe-inline'; object-src 'none'; base-uri 'self';",
          "content-type": "application/json",
          "date": "Sat, 13 Dec 2025 01:44:15 GMT",
          "referrer-policy": "no-referrer",
          "vary": "Accept-Encoding",
          "x-content-type-options": "nosniff",
          "x-frame-options": "DENY"
        },
        "responseSize": 1123,
        "timing": {
          "dns": 75,
          "connect": 75,
          "ttfb": 0,
          "download": 75
        }
      },
      "signedInResult": {
        "endpoint": "/api/content",
        "method": "GET",
        "userType": "signed-in",
        "status": 200,
        "duration": 6241,
        "headers": {
          "connection": "close",
          "content-length": "2",
          "content-type": "application/json",
          "date": "Sat, 13 Dec 2025 01:44:49 GMT",
          "vary": "Accept-Encoding"
        },
        "responseSize": 2,
        "timing": {
          "dns": 6241,
          "connect": 6241,
          "ttfb": 0,
          "download": 6241
        }
      },
      "complexityIssues": [
        "Signed-in user (6241ms) is slower than anonymous (75ms) - may be doing unnecessary anonymous checks"
      ],
      "performanceIssues": [
        "Signed-in user: 6241ms (threshold: 5000ms)"
      ],
      "recommendations": [
        "Review code path for signed-in users - they should be faster, not slower"
      ]
    },
    {
      "endpoint": "/api/conversations",
      "method": "GET",
      "anonymousResult": {
        "endpoint": "/api/conversations",
        "method": "GET",
        "userType": "anonymous",
        "status": 200,
        "duration": 24,
        "headers": {
          "connection": "close",
          "content-length": "195",
          "content-type": "application/json",
          "date": "Sat, 13 Dec 2025 01:44:15 GMT",
          "vary": "Accept-Encoding"
        },
        "responseSize": 195,
        "timing": {
          "dns": 24,
          "connect": 24,
          "ttfb": 0,
          "download": 24
        }
      },
      "signedInResult": {
        "endpoint": "/api/conversations",
        "method": "GET",
        "userType": "signed-in",
        "status": 200,
        "duration": 6518,
        "headers": {
          "connection": "close",
          "content-length": "14164",
          "content-type": "application/json",
          "date": "Sat, 13 Dec 2025 01:44:49 GMT",
          "vary": "Accept-Encoding"
        },
        "responseSize": 14164,
        "timing": {
          "dns": 6518,
          "connect": 6518,
          "ttfb": 0,
          "download": 6518
        }
      },
      "complexityIssues": [
        "Signed-in user (6518ms) is slower than anonymous (24ms) - may be doing unnecessary anonymous checks",
        "Signed-in user flow may be executing anonymous-specific code paths unnecessarily"
      ],
      "performanceIssues": [
        "Signed-in user: 6518ms (threshold: 5000ms)"
      ],
      "recommendations": [
        "Review code path for signed-in users - they should be faster, not slower",
        "Add early return for signed-in users: if (!user.isAnonymous) { /* fast path */ }"
      ]
    },
    {
      "endpoint": "/api/conversations?limit=10",
      "method": "GET",
      "anonymousResult": {
        "endpoint": "/api/conversations?limit=10",
        "method": "GET",
        "userType": "anonymous",
        "status": 200,
        "duration": 43,
        "headers": {
          "connection": "close",
          "content-length": "195",
          "content-type": "application/json",
          "date": "Sat, 13 Dec 2025 01:44:15 GMT",
          "vary": "Accept-Encoding"
        },
        "responseSize": 195,
        "timing": {
          "dns": 43,
          "connect": 43,
          "ttfb": 0,
          "download": 43
        }
      },
      "signedInResult": {
        "endpoint": "/api/conversations?limit=10",
        "method": "GET",
        "userType": "signed-in",
        "status": 200,
        "duration": 5272,
        "headers": {
          "connection": "close",
          "content-length": "8079",
          "content-type": "application/json",
          "date": "Sat, 13 Dec 2025 01:44:48 GMT",
          "vary": "Accept-Encoding"
        },
        "responseSize": 8079,
        "timing": {
          "dns": 5271,
          "connect": 5271,
          "ttfb": 1,
          "download": 5271
        }
      },
      "complexityIssues": [
        "Signed-in user (5272ms) is slower than anonymous (43ms) - may be doing unnecessary anonymous checks",
        "Signed-in user flow may be executing anonymous-specific code paths unnecessarily"
      ],
      "performanceIssues": [
        "Signed-in user: 5272ms (threshold: 5000ms)"
      ],
      "recommendations": [
        "Review code path for signed-in users - they should be faster, not slower",
        "Add early return for signed-in users: if (!user.isAnonymous) { /* fast path */ }"
      ]
    },
    {
      "endpoint": "/api/auth/organization/use-active-organization",
      "method": "GET",
      "anonymousResult": {
        "endpoint": "/api/auth/organization/use-active-organization",
        "method": "GET",
        "userType": "anonymous",
        "status": 204,
        "duration": 36,
        "headers": {
          "connection": "close",
          "date": "Sat, 13 Dec 2025 01:44:15 GMT",
          "vary": "Accept-Encoding"
        },
        "responseSize": 0,
        "timing": {
          "dns": 36,
          "connect": 36,
          "ttfb": 0,
          "download": 36
        }
      },
      "signedInResult": {
        "endpoint": "/api/auth/organization/use-active-organization",
        "method": "GET",
        "userType": "signed-in",
        "status": 204,
        "duration": 55,
        "headers": {
          "connection": "close",
          "date": "Sat, 13 Dec 2025 01:44:42 GMT",
          "vary": "Accept-Encoding"
        },
        "responseSize": 0,
        "timing": {
          "dns": 55,
          "connect": 55,
          "ttfb": 0,
          "download": 55
        }
      },
      "complexityIssues": [
        "Signed-in user (55ms) is slower than anonymous (36ms) - may be doing unnecessary anonymous checks"
      ],
      "performanceIssues": [],
      "recommendations": [
        "Review code path for signed-in users - they should be faster, not slower"
      ]
    },
    {
      "endpoint": "/api/chat",
      "method": "POST",
      "anonymousResult": {
        "endpoint": "/api/chat",
        "method": "POST",
        "userType": "anonymous",
        "status": 403,
        "duration": 75,
        "headers": {
          "cache-control": "no-cache",
          "connection": "close",
          "content-length": "1127",
          "content-security-policy": "script-src 'self' 'unsafe-inline'; object-src 'none'; base-uri 'self';",
          "content-type": "application/json",
          "date": "Sat, 13 Dec 2025 01:44:15 GMT",
          "referrer-policy": "no-referrer",
          "x-content-type-options": "nosniff",
          "x-frame-options": "DENY"
        },
        "responseSize": 1127,
        "timing": {
          "dns": 75,
          "connect": 75,
          "ttfb": 0,
          "download": 75
        }
      },
      "signedInResult": {
        "endpoint": "/api/chat",
        "method": "POST",
        "userType": "signed-in",
        "status": 200,
        "duration": 7400,
        "headers": {
          "cache-control": "no-cache",
          "connection": "keep-alive",
          "content-type": "text/event-stream",
          "date": "Sat, 13 Dec 2025 01:44:42 GMT",
          "transfer-encoding": "chunked",
          "x-accel-buffering": "no"
        },
        "responseSize": 2099,
        "timing": {
          "dns": 46,
          "connect": 46,
          "ttfb": 7354,
          "download": 46
        }
      },
      "complexityIssues": [
        "Signed-in user (7400ms) is slower than anonymous (75ms) - may be doing unnecessary anonymous checks",
        "Signed-in user flow may be executing anonymous-specific code paths unnecessarily"
      ],
      "performanceIssues": [
        "Signed-in user: 7400ms (threshold: 5000ms)"
      ],
      "recommendations": [
        "Review code path for signed-in users - they should be faster, not slower",
        "Add early return for signed-in users: if (!user.isAnonymous) { /* fast path */ }"
      ]
    },
    {
      "endpoint": "/api/chat",
      "method": "POST",
      "anonymousResult": {
        "endpoint": "/api/chat",
        "method": "POST",
        "userType": "anonymous",
        "status": 403,
        "duration": 75,
        "headers": {
          "cache-control": "no-cache",
          "connection": "close",
          "content-length": "1127",
          "content-security-policy": "script-src 'self' 'unsafe-inline'; object-src 'none'; base-uri 'self';",
          "content-type": "application/json",
          "date": "Sat, 13 Dec 2025 01:44:15 GMT",
          "referrer-policy": "no-referrer",
          "x-content-type-options": "nosniff",
          "x-frame-options": "DENY"
        },
        "responseSize": 1127,
        "timing": {
          "dns": 75,
          "connect": 75,
          "ttfb": 0,
          "download": 75
        }
      },
      "signedInResult": {
        "endpoint": "/api/chat",
        "method": "POST",
        "userType": "signed-in",
        "status": 200,
        "duration": 7400,
        "headers": {
          "cache-control": "no-cache",
          "connection": "keep-alive",
          "content-type": "text/event-stream",
          "date": "Sat, 13 Dec 2025 01:44:42 GMT",
          "transfer-encoding": "chunked",
          "x-accel-buffering": "no"
        },
        "responseSize": 2099,
        "timing": {
          "dns": 46,
          "connect": 46,
          "ttfb": 7354,
          "download": 46
        }
      },
      "complexityIssues": [
        "Signed-in user (7400ms) is slower than anonymous (75ms) - may be doing unnecessary anonymous checks",
        "Signed-in user flow may be executing anonymous-specific code paths unnecessarily"
      ],
      "performanceIssues": [
        "Signed-in user: 7400ms (threshold: 5000ms)"
      ],
      "recommendations": [
        "Review code path for signed-in users - they should be faster, not slower",
        "Add early return for signed-in users: if (!user.isAnonymous) { /* fast path */ }"
      ]
    },
    {
      "endpoint": "/api/chat?stream=true",
      "method": "POST",
      "anonymousResult": {
        "endpoint": "/api/chat?stream=true&mode=chat",
        "method": "POST",
        "userType": "anonymous",
        "status": 200,
        "duration": 9013,
        "responseSize": 11,
        "timing": {
          "ttfb": 3230,
          "lastChunk": 9012
        },
        "timeline": {
          "start": 0,
          "ttfb": 3230,
          "body-read": 3230,
          "db-connect": 3230,
          "db-connected": 3230,
          "total": 9013
        },
        "content": "Hello! How can I assist you today?"
      },
      "signedInResult": {
        "endpoint": "/api/chat?stream=true&mode=agent",
        "method": "POST",
        "userType": "signed-in",
        "status": 200,
        "duration": 3806,
        "responseSize": 8,
        "timing": {
          "ttfb": 13,
          "lastChunk": 3806
        },
        "timeline": {
          "start": 0,
          "ttfb": 13,
          "body-read": 13,
          "db-connect": 13,
          "db-connected": 13,
          "total": 3806
        },
        "content": "Hello! How can I assist you today?"
      },
      "complexityIssues": [
        "Signed-in user flow may be executing anonymous-specific code paths unnecessarily"
      ],
      "performanceIssues": [
        "Anonymous user: 9013ms (threshold: 5000ms)"
      ],
      "recommendations": [
        "Add early return for signed-in users: if (!user.isAnonymous) { /* fast path */ }"
      ]
    }
  ],
  "summary": {
    "totalEndpoints": 7,
    "slowEndpoints": 6,
    "complexityIssues": 11,
    "anonymousVsSignedInComparison": {
      "endpointsWithDifferentBehavior": 3,
      "endpointsWithUnnecessaryAnonymousChecks": 6
    }
  }
}
